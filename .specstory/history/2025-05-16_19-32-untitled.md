<!-- Generated by SpecStory -->

# Untitled (2025-05-16 21:32:09)

_**User**_

run ./UPDATE.sh

---

_**Assistant**_



---

```bash
./UPDATE.sh
```

```
(e11ocutionist) adam@Hamlet e11ocutionist % 
egacy_src/malmo_all.py:355:5: PLR0913 Too many arguments in function definition
(6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=361,col=5,endLine=361,endColumn=12::le
gacy_src/malmo_all.py:361:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=361,col=5,endLine=361,endColumn=12::le
gacy_src/malmo_all.py:361:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=404,col=13,endLine=404,endColumn=36::l
egacy_src/malmo_all.py:404:13: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::lega
cy_src/malmo_all.py:458:5: C901 `process_file` is too complex (41 > 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0913 Too many arguments in function definition
(15 > 5)
::error title=Ruff (PLR0912),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0912 Too many branches (42 > 12)
::error title=Ruff (PLR0915),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0915 Too many statements (192 > 50)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=470,col=5,endLine=470,endColumn=12::le
gacy_src/malmo_all.py:470:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=470,col=5,endLine=470,endColumn=12::le
gacy_src/malmo_all.py:470:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=471,col=5,endLine=471,endColumn=11::le
gacy_src/malmo_all.py:471:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=471,col=5,endLine=471,endColumn=11::le
gacy_src/malmo_all.py:471:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=473,col=5,endLine=473,endColumn=18::le
gacy_src/malmo_all.py:473:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=473,col=5,endLine=473,endColumn=18::le
gacy_src/malmo_all.py:473:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (S603),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=637,col=22,endLine=637,endColumn=36::leg
acy_src/malmo_all.py:637:22: S603 `subprocess` call: check for execution of untr
usted input
::error title=Ruff (S103),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=647,col=46,endLine=647,endColumn=51::leg
acy_src/malmo_all.py:647:46: S103 `os.chmod` setting a permissive mask `0o755` o
n file or directory
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=815,col=46,endLine=815,endColumn=69::l
egacy_src/malmo_all.py:815:46: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=820,col=20,endLine=820,endColumn=43::l
egacy_src/malmo_all.py:820:20: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=879,col=5,endLine=879,endColumn=9::le
gacy_src/malmo_all.py:879:5: PLR0913 Too many arguments in function definition (
15 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=891,col=5,endLine=891,endColumn=12::le
gacy_src/malmo_all.py:891:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=891,col=5,endLine=891,endColumn=12::le
gacy_src/malmo_all.py:891:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=892,col=5,endLine=892,endColumn=11::le
gacy_src/malmo_all.py:892:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=892,col=5,endLine=892,endColumn=11::le
gacy_src/malmo_all.py:892:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=894,col=5,endLine=894,endColumn=18::le
gacy_src/malmo_all.py:894:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=894,col=5,endLine=894,endColumn=18::le
gacy_src/malmo_all.py:894:5: FBT002 Boolean default positional argument in funct
ion definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_entitizer.py,line=70,col=16,endLine=70,endColumn=69:
:legacy_src/malmo_entitizer.py:70:16: S320 Using `lxml` to parse untrusted data
is known to be vulnerable to XML attacks
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=109,col=5,endLine=109,endColumn=
11::legacy_src/malmo_entitizer.py:109:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=109,col=5,endLine=109,endColumn=
11::legacy_src/malmo_entitizer.py:109:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=145,col=25,endLine=145,endColumn
=39::legacy_src/malmo_entitizer.py:145:25: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_entitizer.py,line=213,col=21,endLine=213,endColumn=7
7::legacy_src/malmo_entitizer.py:213:21: S320 Using `lxml` to parse untrusted da
ta is known to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_entitizer.py,line=222,col=31,endLine=224,endColumn=1
8::legacy_src/malmo_entitizer.py:222:31: S320 Using `lxml` to parse untrusted da
ta is known to be vulnerable to XML attacks
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=421,col=5,endLine=421,endColumn=
11::legacy_src/malmo_entitizer.py:421:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=421,col=5,endLine=421,endColumn=
11::legacy_src/malmo_entitizer.py:421:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=502,col=5,endLine=502,endColumn
=21::legacy_src/malmo_entitizer.py:502:5: PLR0913 Too many arguments in function
 definition (7 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=507,col=5,endLine=507,endColumn=
12::legacy_src/malmo_entitizer.py:507:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=507,col=5,endLine=507,endColumn=
12::legacy_src/malmo_entitizer.py:507:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=508,col=5,endLine=508,endColumn=
21::legacy_src/malmo_entitizer.py:508:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=508,col=5,endLine=508,endColumn=
21::legacy_src/malmo_entitizer.py:508:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=509,col=5,endLine=509,endColumn=
11::legacy_src/malmo_entitizer.py:509:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=509,col=5,endLine=509,endColumn=
11::legacy_src/malmo_entitizer.py:509:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=557,col=25,endLine=557,endColumn
=39::legacy_src/malmo_entitizer.py:557:25: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_entitizer.py,line=607,col=5,endLine=607,endColumn=32
::legacy_src/malmo_entitizer.py:607:5: C901 `process_document_with_model` is too
 complex (11 > 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=607,col=5,endLine=607,endColumn
=32::legacy_src/malmo_entitizer.py:607:5: PLR0913 Too many arguments in function
 definition (9 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=613,col=5,endLine=613,endColumn=
12::legacy_src/malmo_entitizer.py:613:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=613,col=5,endLine=613,endColumn=
12::legacy_src/malmo_entitizer.py:613:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=614,col=5,endLine=614,endColumn=
21::legacy_src/malmo_entitizer.py:614:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=614,col=5,endLine=614,endColumn=
21::legacy_src/malmo_entitizer.py:614:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=616,col=5,endLine=616,endColumn=
11::legacy_src/malmo_entitizer.py:616:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=616,col=5,endLine=616,endColumn=
11::legacy_src/malmo_entitizer.py:616:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=708,col=5,endLine=708,endColumn
=37::legacy_src/malmo_entitizer.py:708:5: PLR0913 Too many arguments in function
 definition (7 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=712,col=5,endLine=712,endColumn=
12::legacy_src/malmo_entitizer.py:712:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=712,col=5,endLine=712,endColumn=
12::legacy_src/malmo_entitizer.py:712:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=713,col=5,endLine=713,endColumn=
21::legacy_src/malmo_entitizer.py:713:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=713,col=5,endLine=713,endColumn=
21::legacy_src/malmo_entitizer.py:713:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=715,col=5,endLine=715,endColumn=
11::legacy_src/malmo_entitizer.py:715:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=715,col=5,endLine=715,endColumn=
11::legacy_src/malmo_entitizer.py:715:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=744,col=18,endLine=744,endColumn
=32::legacy_src/malmo_entitizer.py:744:18: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=808,col=24,endLine=808,endColumn
=38::legacy_src/malmo_entitizer.py:808:24: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=833,col=30,endLine=833,endColumn
=44::legacy_src/malmo_entitizer.py:833:30: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=850,col=5,endLine=850,endColumn
=9::legacy_src/malmo_entitizer.py:850:5: PLR0913 Too many arguments in function
definition (9 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=855,col=5,endLine=855,endColumn=
12::legacy_src/malmo_entitizer.py:855:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=855,col=5,endLine=855,endColumn=
12::legacy_src/malmo_entitizer.py:855:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=856,col=5,endLine=856,endColumn=
21::legacy_src/malmo_entitizer.py:856:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=856,col=5,endLine=856,endColumn=
21::legacy_src/malmo_entitizer.py:856:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=857,col=5,endLine=857,endColumn=
14::legacy_src/malmo_entitizer.py:857:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=857,col=5,endLine=857,endColumn=
14::legacy_src/malmo_entitizer.py:857:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=859,col=5,endLine=859,endColumn=
11::legacy_src/malmo_entitizer.py:859:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=859,col=5,endLine=859,endColumn=
11::legacy_src/malmo_entitizer.py:859:5: FBT002 Boolean default positional argum
ent in function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=69,col=16,endLine=69,endColumn=69::le
gacy_src/malmo_orator.py:69:16: S320 Using `lxml` to parse untrusted data is kno
wn to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=146,col=21,endLine=146,endColumn=77::
legacy_src/malmo_orator.py:146:21: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=155,col=31,endLine=157,endColumn=18::
legacy_src/malmo_orator.py:155:31: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=180,col=5,endLine=180,endColumn=11:
:legacy_src/malmo_orator.py:180:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=180,col=5,endLine=180,endColumn=11:
:legacy_src/malmo_orator.py:180:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=210,col=25,endLine=210,endColumn=48
::legacy_src/malmo_orator.py:210:25: DTZ005 `datetime.datetime.now()` called wit
hout a `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=232,col=5,endLine=232,endColumn=23::l
egacy_src/malmo_orator.py:232:5: C901 `run_llm_processing` is too complex (11 >
10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=326,col=5,endLine=326,endColumn=22
::legacy_src/malmo_orator.py:326:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=332,col=5,endLine=332,endColumn=11:
:legacy_src/malmo_orator.py:332:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=332,col=5,endLine=332,endColumn=11:
:legacy_src/malmo_orator.py:332:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=406,col=5,endLine=406,endColumn=18
::legacy_src/malmo_orator.py:406:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=412,col=5,endLine=412,endColumn=11:
:legacy_src/malmo_orator.py:412:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=412,col=5,endLine=412,endColumn=11:
:legacy_src/malmo_orator.py:412:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=492,col=5,endLine=492,endColumn=11:
:legacy_src/malmo_orator.py:492:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=492,col=5,endLine=492,endColumn=11:
:legacy_src/malmo_orator.py:492:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=511,col=21,endLine=511,endColumn=68::
legacy_src/malmo_orator.py:511:21: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=539,col=5,endLine=539,endColumn=21
::legacy_src/malmo_orator.py:539:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=545,col=5,endLine=545,endColumn=11:
:legacy_src/malmo_orator.py:545:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=545,col=5,endLine=545,endColumn=11:
:legacy_src/malmo_orator.py:545:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=619,col=5,endLine=619,endColumn=21
::legacy_src/malmo_orator.py:619:5: PLR0913 Too many arguments in function defin
ition (11 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=624,col=5,endLine=624,endColumn=14:
:legacy_src/malmo_orator.py:624:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=624,col=5,endLine=624,endColumn=14:
:legacy_src/malmo_orator.py:624:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=625,col=5,endLine=625,endColumn=10:
:legacy_src/malmo_orator.py:625:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=625,col=5,endLine=625,endColumn=10:
:legacy_src/malmo_orator.py:625:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=626,col=5,endLine=626,endColumn=16:
:legacy_src/malmo_orator.py:626:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=626,col=5,endLine=626,endColumn=16:
:legacy_src/malmo_orator.py:626:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=627,col=5,endLine=627,endColumn=13:
:legacy_src/malmo_orator.py:627:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=627,col=5,endLine=627,endColumn=13:
:legacy_src/malmo_orator.py:627:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=628,col=5,endLine=628,endColumn=14:
:legacy_src/malmo_orator.py:628:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=628,col=5,endLine=628,endColumn=14:
:legacy_src/malmo_orator.py:628:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=629,col=5,endLine=629,endColumn=12:
:legacy_src/malmo_orator.py:629:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=629,col=5,endLine=629,endColumn=12:
:legacy_src/malmo_orator.py:629:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=630,col=5,endLine=630,endColumn=11:
:legacy_src/malmo_orator.py:630:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=630,col=5,endLine=630,endColumn=11:
:legacy_src/malmo_orator.py:630:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (T201),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=651,col=32,endLine=651,endColumn=37::
legacy_src/malmo_orator.py:651:32: T201 `print` found
::error title=Ruff (T201),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=654,col=32,endLine=654,endColumn=37::
legacy_src/malmo_orator.py:654:32: T201 `print` found
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=724,col=5,endLine=724,endColumn=9:
:legacy_src/malmo_orator.py:724:5: PLR0913 Too many arguments in function defini
tion (11 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=729,col=5,endLine=729,endColumn=14:
:legacy_src/malmo_orator.py:729:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=729,col=5,endLine=729,endColumn=14:
:legacy_src/malmo_orator.py:729:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=730,col=5,endLine=730,endColumn=10:
:legacy_src/malmo_orator.py:730:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=730,col=5,endLine=730,endColumn=10:
:legacy_src/malmo_orator.py:730:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=731,col=5,endLine=731,endColumn=16:
:legacy_src/malmo_orator.py:731:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=731,col=5,endLine=731,endColumn=16:
:legacy_src/malmo_orator.py:731:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=732,col=5,endLine=732,endColumn=13:
:legacy_src/malmo_orator.py:732:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=732,col=5,endLine=732,endColumn=13:
:legacy_src/malmo_orator.py:732:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=733,col=5,endLine=733,endColumn=14:
:legacy_src/malmo_orator.py:733:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=733,col=5,endLine=733,endColumn=14:
:legacy_src/malmo_orator.py:733:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=734,col=5,endLine=734,endColumn=12:
:legacy_src/malmo_orator.py:734:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=734,col=5,endLine=734,endColumn=12:
:legacy_src/malmo_orator.py:734:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=735,col=5,endLine=735,endColumn=11:
:legacy_src/malmo_orator.py:735:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=735,col=5,endLine=735,endColumn=11:
:legacy_src/malmo_orator.py:735:5: FBT002 Boolean default positional argument in
 function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=57,col=16,endLine=57,endColumn=69::le
gacy_src/malmo_11labs.py:57:16: S320 Using `lxml` to parse untrusted data is kno
wn to be vulnerable to XML attacks
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=67,col=13,endLine=67,endColumn=34::le
gacy_src/malmo_11labs.py:67:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=70,col=13,endLine=70,endColumn=34::le
gacy_src/malmo_11labs.py:70:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=80,col=13,endLine=80,endColumn=34::le
gacy_src/malmo_11labs.py:80:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=309,col=5,endLine=309,endColumn=12:
:legacy_src/malmo_11labs.py:309:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=309,col=5,endLine=309,endColumn=12:
:legacy_src/malmo_11labs.py:309:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=310,col=5,endLine=310,endColumn=11:
:legacy_src/malmo_11labs.py:310:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=310,col=5,endLine=310,endColumn=11:
:legacy_src/malmo_11labs.py:310:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=383,col=5,endLine=383,endColumn=12:
:legacy_src/malmo_11labs.py:383:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=383,col=5,endLine=383,endColumn=12:
:legacy_src/malmo_11labs.py:383:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=384,col=5,endLine=384,endColumn=11:
:legacy_src/malmo_11labs.py:384:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=384,col=5,endLine=384,endColumn=11:
:legacy_src/malmo_11labs.py:384:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=385,col=5,endLine=385,endColumn=14:
:legacy_src/malmo_11labs.py:385:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=385,col=5,endLine=385,endColumn=14:
:legacy_src/malmo_11labs.py:385:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (S110),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=464,col=9,endLine=466,endColumn=17::l
egacy_src/malmo_11labs.py:464:9: S110 `try`-`except`-`pass` detected, consider l
ogging the exception
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/tests/test_entitizer.py,line=68,col=22,endLine=68,endColumn=76::tests
/test_entitizer.py:68:22: S320 Using `lxml` to parse untrusted data is known to
be vulnerable to XML attacks
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
> ruff format
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'



# THIS IS THE TEST RESULTS:
============================= test session starts ==============================
platform darwin -- Python 3.12.8, pytest-8.3.5, pluggy-1.6.0 -- /Users/adam/Libr
ary/Application Support/hatch/env/virtual/e11ocutionist/_Qf0LyAj/hatch-test.py3.
12/bin/python3
cachedir: .pytest_cache
rootdir: /Users/adam/Developer/vcs/github.twardoch/pub/e11ocutionist
configfile: pyproject.toml
plugins: anyio-4.9.0, rerunfailures-14.0, mock-3.14.0, xdist-3.6.1
collected 6 items                                                              

tests/test_entitizer.py::test_extract_item_elements PASSED               [ 16%]
tests/test_entitizer.py::test_extract_nei_from_tags PASSED               [ 33%]
tests/test_entitizer.py::test_merge_tagged_items PASSED                  [ 50%]
tests/test_entitizer.py::test_nei_identification_mock PASSED             [ 66%]
tests/test_package.py::test_version PASSED                               [ 83%]
tests/test_package.py::test_package_structure PASSED                     [100%]

============================= slowest 10 durations =============================
0.06s call     tests/test_package.py::test_package_structure

(9 durations < 0.005s hidden.  Use -vv to show these durations.)
============================== 6 passed in 1.24s ===============================



# THIS IS OUR CURRENT TODO:
# TODO List for e11ocutionist

The old code that we are porting (for your reference) is in the `legacy_src/` di
rectory.

## 1. Implement Core Processing Modules

### 1.1. Complete `chunker.py` Implementation

Your reference is: `legacy_src/malmo_chunker.py`

- [x] Implement `itemize_document` function
  - Add a function that takes a text document and splits it into semantic paragr
aph-level units
  - Use regex to identify paragraph boundaries (blank lines)
  - Classify paragraphs as headings, blockquotes, lists, code blocks, etc.
  - Return a list of tuples with `(item_text, attachment_type)` where attachment
_type is "following", "preceding", or "normal"

- [x] Implement `create_item_elements` function
  - Create a function that processes the output of `itemize_document`
  - Generate XML items with appropriate attributes (id, tok)
  - Preserve whitespace by setting `xml:space="preserve"`
  - Generate unique IDs for each item using the `generate_id` function in `utils
.py`
  - Return a list of tuples containing `(item_xml, item_id)`

- [x] Implement `semantic_analysis` function
  - Create a function that uses an LLM to identify semantic boundaries (chapters
, scenes, etc.)
  - Send the document with its items to the LLM with a prompt to identify semant
ic units
  - Process the LLM's response to extract identified boundaries
  - Add fallback logic for cases where the LLM fails or identifies too few bound
aries
  - Return a list of tuples with `(item_id, boundary_type)` where boundary_type 
is "chapter", "scene", or "unit"

- [x] Implement `add_unit_tags` function
  - Create a function that adds `<unit>` tags around sequences of items based on
 semantic analysis
  - Group items by their boundary types
  - Set appropriate attributes on unit tags (type, tok)
  - Handle cases where semantic boundaries weren't identified
  - Add fallback logic using regex for parsing failures

- [x] Implement `create_chunks` function
  - Create a function that groups units into chunks of manageable size
  - Ensure each chunk doesn't exceed the maximum token size
  - Allow chapters to always start new chunks
  - Handle oversized units by splitting them across chunks
  - Add tok attributes with accurate token counts

- [x] Handle oversized units
  - Add function to split oversized units across multiple chunks
  - Preserve chunk and unit attributes
  - Maintain document hierarchy

### 1.2. Implement `entitizer.py` Module

Your reference is: `legacy_src/malmo_entitizer.py`

- [x] Create the basic module structure
  - Copy the file structure from `chunker.py` as a template
  - Add imports for lxml, backoff, loguru, etc.
  - Define constants for default models and temperature

- [x] Implement XML parsing and serialization
  - Add functions to parse input XML
  - Extract chunks and items from XML
  - Add functions to serialize XML with proper encoding and formatting

- [x] Implement NEI identification with LLM
  - Create a function that uses an LLM to identify named entities
  - Craft a prompt that explains NEI tagging rules
  - Process the LLM's response to extract tagged text
  - Add retries and fallback for API failures

- [x] Implement NEI dictionary management
  - Create functions to extract NEIs from tags
  - Build and update a dictionary mapping NEIs to pronunciations
  - Track new vs. existing NEIs with the new="true" attribute

- [x] Implement XML merging
  - Create a function to merge LLM-tagged items back into the original XML
  - Maintain document structure while replacing content
  - Handle parsing errors gracefully

- [x] Add incremental saving
  - Implement saving after each chunk is processed
  - Save both the XML document and NEI dictionary
  - Add backup functionality with timestamps

### 1.3. Implement `orator.py` Module

Your reference is: `legacy_src/malmo_orator.py`

- [x] Create the basic module structure
  - Set up imports and constants
  - Define functions for processing documents and chunks

- [x] Implement sentence restructuring
  - Create a function that uses an LLM to divide long sentences into shorter one
s
  - Ensure paragraphs and headings end with punctuation
  - Preserve all XML tags and structure
  - Extract and merge tagged items

- [x] Implement word normalization
  - Create a function that uses an LLM to convert digits to numeric words
  - Replace symbols like '/' and '&' with appropriate conjunctions
  - Spell out rare symbols
  - Preserve XML structure

- [x] Implement punctuation enhancement
  - Create a function that algorithmically enhances punctuation
  - Process parenthetical expressions
  - Replace em/en dashes with ellipses when used as pauses
  - Preserve XML structure

- [x] Implement emotional emphasis
  - Create a function that uses an LLM to add emotional emphasis
  - Add `<em>` tags to emphasize words/phrases
  - Insert `<hr/>` for dramatic pauses
  - Add exclamation marks for energy
  - Preserve XML structure

- [x] Add step selection logic
  - Implement logic to run specific steps based on configuration
  - Allow individual steps (sentences, words, punctuation, emotions) or all step
s
  - Save after each step

### 1.4. Implement `tonedown.py` Module

Your reference is: `legacy_src/malmo_tonedown.py`

- [x] Create the basic module structure
  - Set up imports and constants
  - Define the main processing function

- [x] Implement NEI dictionary building
  - Create a function to extract NEIs from tags
  - Build a dictionary of NEIs with orig attribute and pronunciation cues
  - Set new="true" for first occurrences

- [x] Implement language detection
  - Create a function that uses an LLM to detect document language
  - Extract a representative sample from the document
  - Process the LLM's response to extract the language

- [x] Implement pronunciation cue review
  - Create a function that uses an LLM to review pronunciation cues
  - Send the NEI dictionary and detected language to the LLM
  - Process the LLM response to extract revised pronunciations
  - Update the NEI dictionary with revisions

- [x] Implement XML update
  - Create a function to update `<nei>` tags with revised pronunciations
  - Preserve tag attributes and structure
  - Update tag content with revised pronunciations

- [x] Implement emphasis reduction
  - Create a function to remove excessive `<em>` tags
  - Calculate word distances between emphasis tags
  - Remove tags that are too close together based on min_distance parameter
  - Add proper regex handling for complex XML

## 2. Add Testing and Documentation

### 2.1. Implement Unit Tests

- [ ] Set up pytest framework
  - Create `tests/` directory with proper structure (already created)
  - Add `conftest.py` with common fixtures
  - Configure pytest in pyproject.toml (already configured)

- [ ] Create test fixtures
  - Add sample XML files for testing
  - Create mock LLM responses
  - Set up test environment variables

- [ ] Add tests for `chunker.py`
  - Test paragraph splitting and classification
  - Test semantic analysis
  - Test chunk creation with various inputs

- [ ] Add tests for `entitizer.py` (once implemented)
  - Test NEI identification and tagging
  - Test dictionary building and updates
  - Test XML merging

- [ ] Add tests for `orator.py`
  - Test each processing step individually
  - Test full pipeline with various inputs
  - Test error handling and recovery

- [ ] Add tests for `tonedown.py`
  - Test NEI dictionary building
  - Test language detection
  - Test pronunciation cue review
  - Test emphasis reduction

- [ ] Add tests for integration between modules
  - Test passing results between pipeline stages
  - Test full pipeline execution
  - Test error handling between modules

### 2.2. Improve Documentation

- [ ] Update README.md
  - Add comprehensive installation instructions
  - Add detailed usage examples for CLI
  - Add detailed examples for programmatic usage
  - Add development setup instructions

- [ ] Add docstrings to all public functions
  - Use Google-style docstrings
  - Include parameter descriptions
  - Document return values
  - Add examples where appropriate

- [ ] Document CLI commands
  - Create comprehensive help text
  - Add examples for each command
  - Document all options and parameters

### 2.3. Final Integration Tasks

- [x] Complete the pipeline integration
  - Verify all modules work together correctly
  - Test processing flow from chunking through ElevenLabs conversion
  - Ensure configuration is properly passed between modules

- [ ] Add comprehensive error handling
  - Implement proper exception handling throughout
  - Add meaningful error messages
  - Add recovery strategies for common failures

- [ ] Add logging enhancements
  - Improve log messages for clarity
  - Add log levels for different verbosity needs
  - Add progress indicators for long-running operations

- [ ] Create example workflows
  - Add example scripts for common tasks
  - Document typical processing workflows
  - Include sample inputs and expected outputs

## 3. New Tasks

### 3.1. Implement Missing Core Module

- [x] Implement `entitizer.py` (Highest Priority)
  - Create file structure based on specification
  - Implement all required functionality
  - Ensure compatibility with other pipeline components
  - Add unit tests

### 3.2. Setup Continuous Integration

- [ ] Set up GitHub Actions workflows
  - Add workflow for running tests
  - Add workflow for checking code formatting
  - Add workflow for publishing package to PyPI

### 3.3. Improve Error Handling and Recovery

- [ ] Implement robust error handling
  - Add try/except blocks for critical operations
  - Provide meaningful error messages
  - Handle partial failures gracefully

- [ ] Add processing state management
  - Save intermediate state to disk
  - Implement resume functionality
  - Allow restarting from any pipeline stage

### 3.4. Enhance User Experience

- [ ] Add progress reporting
  - Implement CLI progress bars
  - Add estimated time remaining
  - Show processing statistics

- [ ] Improve logging
  - Add configurable log levels
  - Direct logs to files
  - Format logs for readability

### 3.5. Optimize Performance

- [ ] Profile code for bottlenecks
  - Identify slow operations
  - Optimize processing-intensive functions
  - Implement caching where beneficial

- [ ] Implement parallel processing
  - Parallelize processing of independent chunks
  - Add concurrency controls
  - Ensure thread safety



<task>(1) Review and update the 'TODO.md' file so that it accurately reflects th
e current state of the project, add new items that are useful, remove items that
 are no longer relevant. (2) Implement the TODO. (3) Update the progress in the
'TODO.md' file: mark items as done, add new items that are useful, remove items
that are no longer relevant.</task>



```

---

Read file: TODO.md

---

Read file: TODO.md

---



---

