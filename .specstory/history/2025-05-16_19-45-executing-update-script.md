<!-- Generated by SpecStory -->

# Executing Update Script (2025-05-16 21:45:31)

_**User**_

run ./UPDATE.sh

---

_**Assistant**_



---

Read file: UPDATE.sh

---

The UPDATE.sh script performs several operations:
1. Generates summary files of the source code structure
2. Displays the project structure using `tree`
3. Shows the contents of both legacy and new source code for comparison
4. Runs formatting and linting tools
5. Runs project tests
6. Shows the current TODO list

Let me run this script as requested:

---

```bash
./UPDATE.sh
```

```
(e11ocutionist) adam@Hamlet e11ocutionist % 
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=614,col=5,endLine=614,endColumn=
21::legacy_src/malmo_entitizer.py:614:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=616,col=5,endLine=616,endColumn=
11::legacy_src/malmo_entitizer.py:616:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=616,col=5,endLine=616,endColumn=
11::legacy_src/malmo_entitizer.py:616:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=708,col=5,endLine=708,endColumn
=37::legacy_src/malmo_entitizer.py:708:5: PLR0913 Too many arguments in function
 definition (7 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=712,col=5,endLine=712,endColumn=
12::legacy_src/malmo_entitizer.py:712:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=712,col=5,endLine=712,endColumn=
12::legacy_src/malmo_entitizer.py:712:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=713,col=5,endLine=713,endColumn=
21::legacy_src/malmo_entitizer.py:713:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=713,col=5,endLine=713,endColumn=
21::legacy_src/malmo_entitizer.py:713:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=715,col=5,endLine=715,endColumn=
11::legacy_src/malmo_entitizer.py:715:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=715,col=5,endLine=715,endColumn=
11::legacy_src/malmo_entitizer.py:715:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=744,col=18,endLine=744,endColumn
=32::legacy_src/malmo_entitizer.py:744:18: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=808,col=24,endLine=808,endColumn
=38::legacy_src/malmo_entitizer.py:808:24: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=833,col=30,endLine=833,endColumn
=44::legacy_src/malmo_entitizer.py:833:30: DTZ005 `datetime.datetime.now()` call
ed without a `tz` argument
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_entitizer.py,line=850,col=5,endLine=850,endColumn
=9::legacy_src/malmo_entitizer.py:850:5: PLR0913 Too many arguments in function
definition (9 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=855,col=5,endLine=855,endColumn=
12::legacy_src/malmo_entitizer.py:855:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=855,col=5,endLine=855,endColumn=
12::legacy_src/malmo_entitizer.py:855:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=856,col=5,endLine=856,endColumn=
21::legacy_src/malmo_entitizer.py:856:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=856,col=5,endLine=856,endColumn=
21::legacy_src/malmo_entitizer.py:856:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=857,col=5,endLine=857,endColumn=
14::legacy_src/malmo_entitizer.py:857:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=857,col=5,endLine=857,endColumn=
14::legacy_src/malmo_entitizer.py:857:5: FBT002 Boolean default positional argum
ent in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=859,col=5,endLine=859,endColumn=
11::legacy_src/malmo_entitizer.py:859:5: FBT001 Boolean-typed positional argumen
t in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_entitizer.py,line=859,col=5,endLine=859,endColumn=
11::legacy_src/malmo_entitizer.py:859:5: FBT002 Boolean default positional argum
ent in function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=69,col=16,endLine=69,endColumn=69::
legacy_src/malmo_tonedown.py:69:16: S320 Using `lxml` to parse untrusted data is
 known to be vulnerable to XML attacks
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=84,col=5,endLine=84,endColumn=21::l
egacy_src/malmo_tonedown.py:84:5: C901 `process_nei_tags` is too complex (11 > 1
0)
::error title=Ruff (S608),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=246,col=14,endLine=269,endColumn=8:
:legacy_src/malmo_tonedown.py:246:14: S608 Possible SQL injection vector through
 string-based query construction
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=512,col=5,endLine=512,endColumn=21:
:legacy_src/malmo_tonedown.py:512:5: C901 `process_document` is too complex (21
> 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_tonedown.py,line=512,col=5,endLine=512,endColumn=
21::legacy_src/malmo_tonedown.py:512:5: PLR0913 Too many arguments in function d
efinition (6 > 5)
::error title=Ruff (PLR0912),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_tonedown.py,line=512,col=5,endLine=512,endColumn=
21::legacy_src/malmo_tonedown.py:512:5: PLR0912 Too many branches (22 > 12)
::error title=Ruff (PLR0915),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_tonedown.py,line=512,col=5,endLine=512,endColumn=
21::legacy_src/malmo_tonedown.py:512:5: PLR0915 Too many statements (101 > 50)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_tonedown.py,line=518,col=5,endLine=518,endColumn=1
2::legacy_src/malmo_tonedown.py:518:5: FBT001 Boolean-typed positional argument
in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_tonedown.py,line=518,col=5,endLine=518,endColumn=1
2::legacy_src/malmo_tonedown.py:518:5: FBT002 Boolean default positional argumen
t in function definition
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=675,col=27,endLine=675,endColumn=87
::legacy_src/malmo_tonedown.py:675:27: S320 Using `lxml` to parse untrusted data
 is known to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=679,col=13,endLine=681,endColumn=14
::legacy_src/malmo_tonedown.py:679:13: S320 Using `lxml` to parse untrusted data
 is known to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_tonedown.py,line=768,col=19,endLine=768,endColumn=84
::legacy_src/malmo_tonedown.py:768:19: S320 Using `lxml` to parse untrusted data
 is known to be vulnerable to XML attacks
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_tonedown.py,line=782,col=5,endLine=782,endColumn=
9::legacy_src/malmo_tonedown.py:782:5: PLR0913 Too many arguments in function de
finition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_tonedown.py,line=788,col=5,endLine=788,endColumn=1
2::legacy_src/malmo_tonedown.py:788:5: FBT001 Boolean-typed positional argument
in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_tonedown.py,line=788,col=5,endLine=788,endColumn=1
2::legacy_src/malmo_tonedown.py:788:5: FBT002 Boolean default positional argumen
t in function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/src/e11ocutionist/entitizer.py,line=60,col=5,endLine=60,endColumn=
23::src/e11ocutionist/entitizer.py:60:5: PLR0913 Too many arguments in function
definition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=66,col=5,endLine=66,endColumn=1
1::src/e11ocutionist/entitizer.py:66:5: FBT001 Boolean-typed positional argument
 in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=66,col=5,endLine=66,endColumn=1
1::src/e11ocutionist/entitizer.py:66:5: FBT002 Boolean default positional argume
nt in function definition
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/src/e11ocutionist/entitizer.py,line=162,col=31,endLine=165,endColumn=
18::src/e11ocutionist/entitizer.py:162:31: S320 Using `lxml` to parse untrusted
data is known to be vulnerable to XML attacks
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/src/e11ocutionist/entitizer.py,line=372,col=5,endLine=372,endColum
n=19::src/e11ocutionist/entitizer.py:372:5: PLR0913 Too many arguments in functi
on definition (7 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=379,col=5,endLine=379,endColumn
=11::src/e11ocutionist/entitizer.py:379:5: FBT001 Boolean-typed positional argum
ent in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=379,col=5,endLine=379,endColumn
=11::src/e11ocutionist/entitizer.py:379:5: FBT002 Boolean default positional arg
ument in function definition
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/src/e11ocutionist/entitizer.py,line=457,col=5,endLine=457,endColumn=2
1::src/e11ocutionist/entitizer.py:457:5: C901 `process_document` is too complex
(11 > 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/src/e11ocutionist/entitizer.py,line=457,col=5,endLine=457,endColum
n=21::src/e11ocutionist/entitizer.py:457:5: PLR0913 Too many arguments in functi
on definition (8 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=464,col=5,endLine=464,endColumn
=12::src/e11ocutionist/entitizer.py:464:5: FBT001 Boolean-typed positional argum
ent in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=464,col=5,endLine=464,endColumn
=12::src/e11ocutionist/entitizer.py:464:5: FBT002 Boolean default positional arg
ument in function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=465,col=5,endLine=465,endColumn
=11::src/e11ocutionist/entitizer.py:465:5: FBT001 Boolean-typed positional argum
ent in function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/src/e11ocutionist/entitizer.py,line=465,col=5,endLine=465,endColumn
=11::src/e11ocutionist/entitizer.py:465:5: FBT002 Boolean default positional arg
ument in function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_neifix.py,line=24,col=34,endLine=24,endColumn=41::
legacy_src/malmo_neifix.py:24:34: FBT002 Boolean default positional argument in
function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_neifix.py,line=78,col=48,endLine=78,endColumn=55::
legacy_src/malmo_neifix.py:78:48: FBT002 Boolean default positional argument in
function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_neifix.py,line=136,col=64,endLine=136,endColumn=71
::legacy_src/malmo_neifix.py:136:64: FBT001 Boolean-typed positional argument in
 function definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_neifix.py,line=136,col=64,endLine=136,endColumn=71
::legacy_src/malmo_neifix.py:136:64: FBT002 Boolean default positional argument
in function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=69,col=16,endLine=69,endColumn=69::le
gacy_src/malmo_orator.py:69:16: S320 Using `lxml` to parse untrusted data is kno
wn to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=146,col=21,endLine=146,endColumn=77::
legacy_src/malmo_orator.py:146:21: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=155,col=31,endLine=157,endColumn=18::
legacy_src/malmo_orator.py:155:31: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=180,col=5,endLine=180,endColumn=11:
:legacy_src/malmo_orator.py:180:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=180,col=5,endLine=180,endColumn=11:
:legacy_src/malmo_orator.py:180:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=210,col=25,endLine=210,endColumn=48
::legacy_src/malmo_orator.py:210:25: DTZ005 `datetime.datetime.now()` called wit
hout a `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=232,col=5,endLine=232,endColumn=23::l
egacy_src/malmo_orator.py:232:5: C901 `run_llm_processing` is too complex (11 >
10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=326,col=5,endLine=326,endColumn=22
::legacy_src/malmo_orator.py:326:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=332,col=5,endLine=332,endColumn=11:
:legacy_src/malmo_orator.py:332:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=332,col=5,endLine=332,endColumn=11:
:legacy_src/malmo_orator.py:332:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=406,col=5,endLine=406,endColumn=18
::legacy_src/malmo_orator.py:406:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=412,col=5,endLine=412,endColumn=11:
:legacy_src/malmo_orator.py:412:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=412,col=5,endLine=412,endColumn=11:
:legacy_src/malmo_orator.py:412:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=492,col=5,endLine=492,endColumn=11:
:legacy_src/malmo_orator.py:492:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=492,col=5,endLine=492,endColumn=11:
:legacy_src/malmo_orator.py:492:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=511,col=21,endLine=511,endColumn=68::
legacy_src/malmo_orator.py:511:21: S320 Using `lxml` to parse untrusted data is
known to be vulnerable to XML attacks
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=539,col=5,endLine=539,endColumn=21
::legacy_src/malmo_orator.py:539:5: PLR0913 Too many arguments in function defin
ition (6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=545,col=5,endLine=545,endColumn=11:
:legacy_src/malmo_orator.py:545:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=545,col=5,endLine=545,endColumn=11:
:legacy_src/malmo_orator.py:545:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=619,col=5,endLine=619,endColumn=21
::legacy_src/malmo_orator.py:619:5: PLR0913 Too many arguments in function defin
ition (11 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=624,col=5,endLine=624,endColumn=14:
:legacy_src/malmo_orator.py:624:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=624,col=5,endLine=624,endColumn=14:
:legacy_src/malmo_orator.py:624:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=625,col=5,endLine=625,endColumn=10:
:legacy_src/malmo_orator.py:625:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=625,col=5,endLine=625,endColumn=10:
:legacy_src/malmo_orator.py:625:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=626,col=5,endLine=626,endColumn=16:
:legacy_src/malmo_orator.py:626:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=626,col=5,endLine=626,endColumn=16:
:legacy_src/malmo_orator.py:626:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=627,col=5,endLine=627,endColumn=13:
:legacy_src/malmo_orator.py:627:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=627,col=5,endLine=627,endColumn=13:
:legacy_src/malmo_orator.py:627:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=628,col=5,endLine=628,endColumn=14:
:legacy_src/malmo_orator.py:628:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=628,col=5,endLine=628,endColumn=14:
:legacy_src/malmo_orator.py:628:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=629,col=5,endLine=629,endColumn=12:
:legacy_src/malmo_orator.py:629:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=629,col=5,endLine=629,endColumn=12:
:legacy_src/malmo_orator.py:629:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=630,col=5,endLine=630,endColumn=11:
:legacy_src/malmo_orator.py:630:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=630,col=5,endLine=630,endColumn=11:
:legacy_src/malmo_orator.py:630:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (T201),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=651,col=32,endLine=651,endColumn=37::
legacy_src/malmo_orator.py:651:32: T201 `print` found
::error title=Ruff (T201),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_orator.py,line=654,col=32,endLine=654,endColumn=37::
legacy_src/malmo_orator.py:654:32: T201 `print` found
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_orator.py,line=724,col=5,endLine=724,endColumn=9:
:legacy_src/malmo_orator.py:724:5: PLR0913 Too many arguments in function defini
tion (11 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=729,col=5,endLine=729,endColumn=14:
:legacy_src/malmo_orator.py:729:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=729,col=5,endLine=729,endColumn=14:
:legacy_src/malmo_orator.py:729:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=730,col=5,endLine=730,endColumn=10:
:legacy_src/malmo_orator.py:730:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=730,col=5,endLine=730,endColumn=10:
:legacy_src/malmo_orator.py:730:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=731,col=5,endLine=731,endColumn=16:
:legacy_src/malmo_orator.py:731:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=731,col=5,endLine=731,endColumn=16:
:legacy_src/malmo_orator.py:731:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=732,col=5,endLine=732,endColumn=13:
:legacy_src/malmo_orator.py:732:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=732,col=5,endLine=732,endColumn=13:
:legacy_src/malmo_orator.py:732:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=733,col=5,endLine=733,endColumn=14:
:legacy_src/malmo_orator.py:733:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=733,col=5,endLine=733,endColumn=14:
:legacy_src/malmo_orator.py:733:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=734,col=5,endLine=734,endColumn=12:
:legacy_src/malmo_orator.py:734:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=734,col=5,endLine=734,endColumn=12:
:legacy_src/malmo_orator.py:734:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=735,col=5,endLine=735,endColumn=11:
:legacy_src/malmo_orator.py:735:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_orator.py,line=735,col=5,endLine=735,endColumn=11:
:legacy_src/malmo_orator.py:735:5: FBT002 Boolean default positional argument in
 function definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S603),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=117,col=13,endLine=117,endColumn=27::leg
acy_src/malmo_all.py:117:13: S603 `subprocess` call: check for execution of untr
usted input
::error title=Ruff (S603),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=124,col=17,endLine=124,endColumn=31::leg
acy_src/malmo_all.py:124:17: S603 `subprocess` call: check for execution of untr
usted input
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=152,col=17,endLine=152,endColumn=40::l
egacy_src/malmo_all.py:152:17: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=166,col=33,endLine=166,endColumn=40::l
egacy_src/malmo_all.py:166:33: FBT001 Boolean-typed positional argument in funct
ion definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=166,col=33,endLine=166,endColumn=40::l
egacy_src/malmo_all.py:166:33: FBT002 Boolean default positional argument in fun
ction definition
::error title=Ruff (S603),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=195,col=18,endLine=195,endColumn=32::leg
acy_src/malmo_all.py:195:18: S603 `subprocess` call: check for execution of untr
usted input
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=269,col=5,endLine=269,endColumn=24::l
egacy_src/malmo_all.py:269:5: PLR0913 Too many arguments in function definition
(16 > 5)
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=318,col=27,endLine=318,endColumn=50::l
egacy_src/malmo_all.py:318:27: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=355,col=5,endLine=355,endColumn=13::lega
cy_src/malmo_all.py:355:5: C901 `run_step` is too complex (13 > 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=355,col=5,endLine=355,endColumn=13::l
egacy_src/malmo_all.py:355:5: PLR0913 Too many arguments in function definition
(6 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=361,col=5,endLine=361,endColumn=12::le
gacy_src/malmo_all.py:361:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=361,col=5,endLine=361,endColumn=12::le
gacy_src/malmo_all.py:361:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=404,col=13,endLine=404,endColumn=36::l
egacy_src/malmo_all.py:404:13: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (C901),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::lega
cy_src/malmo_all.py:458:5: C901 `process_file` is too complex (41 > 10)
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0913 Too many arguments in function definition
(15 > 5)
::error title=Ruff (PLR0912),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0912 Too many branches (42 > 12)
::error title=Ruff (PLR0915),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=458,col=5,endLine=458,endColumn=17::l
egacy_src/malmo_all.py:458:5: PLR0915 Too many statements (192 > 50)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=470,col=5,endLine=470,endColumn=12::le
gacy_src/malmo_all.py:470:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=470,col=5,endLine=470,endColumn=12::le
gacy_src/malmo_all.py:470:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=471,col=5,endLine=471,endColumn=11::le
gacy_src/malmo_all.py:471:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=471,col=5,endLine=471,endColumn=11::le
gacy_src/malmo_all.py:471:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=473,col=5,endLine=473,endColumn=18::le
gacy_src/malmo_all.py:473:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=473,col=5,endLine=473,endColumn=18::le
gacy_src/malmo_all.py:473:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (S603),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=637,col=22,endLine=637,endColumn=36::leg
acy_src/malmo_all.py:637:22: S603 `subprocess` call: check for execution of untr
usted input
::error title=Ruff (S103),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_all.py,line=647,col=46,endLine=647,endColumn=51::leg
acy_src/malmo_all.py:647:46: S103 `os.chmod` setting a permissive mask `0o755` o
n file or directory
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=815,col=46,endLine=815,endColumn=69::l
egacy_src/malmo_all.py:815:46: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (DTZ005),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=820,col=20,endLine=820,endColumn=43::l
egacy_src/malmo_all.py:820:20: DTZ005 `datetime.datetime.now()` called without a
 `tz` argument
::error title=Ruff (PLR0913),file=/Users/adam/Developer/vcs/github.twardoch/pub/
e11ocutionist/legacy_src/malmo_all.py,line=879,col=5,endLine=879,endColumn=9::le
gacy_src/malmo_all.py:879:5: PLR0913 Too many arguments in function definition (
15 > 5)
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=891,col=5,endLine=891,endColumn=12::le
gacy_src/malmo_all.py:891:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=891,col=5,endLine=891,endColumn=12::le
gacy_src/malmo_all.py:891:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=892,col=5,endLine=892,endColumn=11::le
gacy_src/malmo_all.py:892:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=892,col=5,endLine=892,endColumn=11::le
gacy_src/malmo_all.py:892:5: FBT002 Boolean default positional argument in funct
ion definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=894,col=5,endLine=894,endColumn=18::le
gacy_src/malmo_all.py:894:5: FBT001 Boolean-typed positional argument in functio
n definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_all.py,line=894,col=5,endLine=894,endColumn=18::le
gacy_src/malmo_all.py:894:5: FBT002 Boolean default positional argument in funct
ion definition
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=57,col=16,endLine=57,endColumn=69::le
gacy_src/malmo_11labs.py:57:16: S320 Using `lxml` to parse untrusted data is kno
wn to be vulnerable to XML attacks
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=67,col=13,endLine=67,endColumn=34::le
gacy_src/malmo_11labs.py:67:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=70,col=13,endLine=70,endColumn=34::le
gacy_src/malmo_11labs.py:70:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (B904),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=80,col=13,endLine=80,endColumn=34::le
gacy_src/malmo_11labs.py:80:13: B904 Within an `except` clause, raise exceptions
 with `raise ... from err` or `raise ... from None` to distinguish them from err
ors in exception handling
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=309,col=5,endLine=309,endColumn=12:
:legacy_src/malmo_11labs.py:309:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=309,col=5,endLine=309,endColumn=12:
:legacy_src/malmo_11labs.py:309:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=310,col=5,endLine=310,endColumn=11:
:legacy_src/malmo_11labs.py:310:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=310,col=5,endLine=310,endColumn=11:
:legacy_src/malmo_11labs.py:310:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=383,col=5,endLine=383,endColumn=12:
:legacy_src/malmo_11labs.py:383:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=383,col=5,endLine=383,endColumn=12:
:legacy_src/malmo_11labs.py:383:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=384,col=5,endLine=384,endColumn=11:
:legacy_src/malmo_11labs.py:384:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=384,col=5,endLine=384,endColumn=11:
:legacy_src/malmo_11labs.py:384:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (FBT001),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=385,col=5,endLine=385,endColumn=14:
:legacy_src/malmo_11labs.py:385:5: FBT001 Boolean-typed positional argument in f
unction definition
::error title=Ruff (FBT002),file=/Users/adam/Developer/vcs/github.twardoch/pub/e
11ocutionist/legacy_src/malmo_11labs.py,line=385,col=5,endLine=385,endColumn=14:
:legacy_src/malmo_11labs.py:385:5: FBT002 Boolean default positional argument in
 function definition
::error title=Ruff (S110),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/legacy_src/malmo_11labs.py,line=464,col=9,endLine=466,endColumn=17::l
egacy_src/malmo_11labs.py:464:9: S110 `try`-`except`-`pass` detected, consider l
ogging the exception
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
::error title=Ruff (S320),file=/Users/adam/Developer/vcs/github.twardoch/pub/e11
ocutionist/tests/test_entitizer.py,line=68,col=22,endLine=68,endColumn=76::tests
/test_entitizer.py:68:22: S320 Using `lxml` to parse untrusted data is known to
be vulnerable to XML attacks
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
> ruff format
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'
1 file left unchanged
warning: The top-level linter settings are deprecated in favour of their counter
parts in the `lint` section. Please update the following options in `pyproject.t
oml`:
  - 'per-file-ignores' -> 'lint.per-file-ignores'



# THIS IS THE TEST RESULTS:
============================= test session starts ==============================
platform darwin -- Python 3.12.8, pytest-8.3.5, pluggy-1.6.0 -- /Users/adam/Libr
ary/Application Support/hatch/env/virtual/e11ocutionist/_Qf0LyAj/hatch-test.py3.
12/bin/python3
cachedir: .pytest_cache
rootdir: /Users/adam/Developer/vcs/github.twardoch/pub/e11ocutionist
configfile: pyproject.toml
plugins: anyio-4.9.0, rerunfailures-14.0, mock-3.14.0, xdist-3.6.1
collected 6 items                                                              

tests/test_entitizer.py::test_extract_item_elements PASSED               [ 16%]
tests/test_entitizer.py::test_extract_nei_from_tags PASSED               [ 33%]
tests/test_entitizer.py::test_merge_tagged_items PASSED                  [ 50%]
tests/test_entitizer.py::test_nei_identification_mock PASSED             [ 66%]
tests/test_package.py::test_version PASSED                               [ 83%]
tests/test_package.py::test_package_structure PASSED                     [100%]

============================= slowest 10 durations =============================
0.07s call     tests/test_package.py::test_package_structure

(9 durations < 0.005s hidden.  Use -vv to show these durations.)
============================== 6 passed in 1.72s ===============================



# THIS IS OUR CURRENT TODO:
# TODO List for e11ocutionist

The old code that we are porting (for your reference) is in the `legacy_src/` fo
lder.

The new code is in the `src/` folder.

## 1. Implement Core Processing Modules

### 1.1. [x] 1.1. Implement `chunker.py` Module

Your reference is: `legacy_src/malmo_chunker.py`

### 1.2. [x] Implement `entitizer.py` Module

Your reference is: `legacy_src/malmo_entitizer.py`


### 1.3. [x] Implement `orator.py` Module

Your reference is: `legacy_src/malmo_orator.py`

### 1.4. [x] Implement `tonedown.py` Module

Your reference is: `legacy_src/malmo_tonedown.py`

## 2. Add Testing and Documentation

### 2.1. Implement Unit Tests

- [ ] Create test fixtures
  - Add sample XML files for testing
  - Create mock LLM responses
  - Set up test environment variables

- [x] Add tests for `entitizer.py`
  - [x] Test NEI identification and tagging (test_entitizer.py has functions)
  - [x] Test dictionary building and updates
  - [x] Test XML merging

- [ ] Add tests for `chunker.py`
  - Test paragraph splitting and classification
  - Test semantic analysis
  - Test chunk creation with various inputs

- [ ] Add tests for `orator.py`
  - Test each processing step individually
  - Test full pipeline with various inputs
  - Test error handling and recovery

- [ ] Add tests for `tonedown.py`
  - Test NEI dictionary building
  - Test language detection
  - Test pronunciation cue review
  - Test emphasis reduction

- [ ] Add tests for integration between modules
  - Test passing results between pipeline stages
  - Test full pipeline execution
  - Test error handling between modules

### 2.2. Improve Documentation

- [ ] Update README.md
  - Add comprehensive installation instructions
  - Add detailed usage examples for CLI
  - Add detailed examples for programmatic usage
  - Add development setup instructions

- [ ] Add docstrings to all public functions
  - Use Google-style docstrings
  - Include parameter descriptions
  - Document return values
  - Add examples where appropriate

- [ ] Document CLI commands
  - Create comprehensive help text
  - Add examples for each command
  - Document all options and parameters

### 2.3. Final Integration Tasks

- [ ] Add comprehensive error handling
  - Implement proper exception handling throughout
  - Add meaningful error messages
  - Add recovery strategies for common failures

- [ ] Add logging enhancements
  - Improve log messages for clarity
  - Add log levels for different verbosity needs
  - Add progress indicators for long-running operations

- [ ] Create example workflows
  - Add example scripts for common tasks
  - Document typical processing workflows
  - Include sample inputs and expected outputs

## 3. Code Quality and Maintenance 

### 3.1. Fix Linting Issues

- [ ] Update pyproject.toml configuration
  - Move 'per-file-ignores' to 'lint.per-file-ignores' section
  - Update target Python version to 3.12
  - Add specific rules to address common issues

- [ ] Address FBT001/FBT002 warnings
  - Replace boolean positional arguments with keyword-only arguments
  - Update function signatures and calls throughout the codebase
  - Add type hints for boolean parameters

- [ ] Fix PLR0913 warnings (too many arguments)
  - Refactor functions with too many parameters
  - Create parameter classes/dataclasses where appropriate
  - Use keyword arguments consistently

- [ ] Add timezone to datetime calls
  - Replace datetime.now() with datetime.now(timezone.utc)
  - Update date/time handling for consistency
  - Add proper timezone awareness

- [ ] Refactor complex functions
  - Break down functions with high complexity (C901)
  - Reduce branch complexity (PLR0912)
  - Reduce statement count (PLR0915)

- [ ] Address security issues
  - Fix lxml security warnings (S320)
  - Implement proper input sanitization
  - Address subprocess security concerns (S603)

### 3.2. Code Structure Improvements

- [ ] Implement consistent error handling
  - Create custom exception classes
  - Add exception hierarchy for different error types
  - Use try/except with specific exceptions

- [ ] Enhance module structure
  - Organize related functions into logical classes
  - Improve code reuse across modules
  - Create clear interfaces between components

- [ ] Implement configuration management
  - Create central configuration object
  - Add validation for configuration parameters
  - Provide sensible defaults and documentation

### 3.3. Testing and CI/CD

- [ ] Increase test coverage
  - Add tests for all core functionality
  - Add integration tests for full pipeline
  - Add tests for edge cases and error handling

- [ ] Set up GitHub Actions workflow
  - Add workflow for running tests
  - Add workflow for linting and type checking
  - Add workflow for publishing package

## 4. Feature Enhancements

### 4.1. Performance Optimizations

- [ ] Improve LLM usage efficiency
  - Optimize prompts for token efficiency
  - Implement caching for LLM responses
  - Add batch processing where possible

- [ ] Implement parallel processing
  - Process chunks in parallel
  - Add concurrency controls
  - Ensure thread safety

### 4.2. User Experience Improvements

- [ ] Add progress reporting
  - Implement CLI progress bars
  - Add estimated time remaining
  - Show processing statistics

- [ ] Create user-friendly error messages
  - Add detailed diagnostics
  - Suggest solutions for common errors
  - Provide clear guidance for configuration issues

### 4.3. Additional Features

- [ ] Add voice customization options
  - Support for voice cloning
  - Implement voice style controls
  - Add support for additional TTS providers

- [ ] Implement document format conversions
  - Add support for Markdown
  - Add support for HTML
  - Add support for ePub

- [ ] Create visualization tools
  - Add speech synthesis preview
  - Implement processing visualization
  - Create interactive pipeline control



<task>(1) Review and update the 'TODO.md' file so that it accurately reflects th
e current state of the project, add new items that are useful, remove items that
 are no longer relevant. (2) Implement the TODO. (3) Update the progress in the
'TODO.md' file: mark items as done, add new items that are useful, remove items
that are no longer relevant.</task>



```

---

I've run the UPDATE.sh script, which performed several operations:

1. Formatted and linted the Python code in the project with tools like autoflake, pyupgrade, and ruff
2. Ran the project's tests, which all passed successfully (6 tests in total)
3. Displayed the current TODO.md file with the project's pending tasks

The linting process showed numerous issues that need to be addressed, particularly:
- Boolean parameter warnings (FBT001/FBT002)
- Functions with too many arguments (PLR0913)
- Complex functions (C901)
- Security issues with lxml parsing (S320)
- Datetime calls without timezone (DTZ005)
- Some subprocess security concerns (S603)

All the tests are currently passing. The TODO.md file shows a structured plan for completing the project, with some tasks already marked as done and others still pending.

The final part of the output provides a task to review and update the TODO.md file and implement pending items.

---

_**User**_

Now: 
(1) Review and update the 'TODO.md' file so that it accurately reflects the current state of the project, add new items that are useful, remove items that are no longer relevant. 
(2) Implement the TODO. 
(3) Update the progress in the 'TODO.md' file: mark items as done, add new items that are useful, remove items that are no longer relevant.

---

_**Assistant**_



---

Read file: TODO.md

---

Let me check what's in the project structure to understand the current state better, particularly focusing on the new code in the src/ directory.

---

<details>
            <summary>Listed directory src/e11ocutionist  **14** results</summary>
        
| Name |
|-------|
|  `__pycache__` |
|  `__version__.py` |
|  `e11ocutionist.py` |
|  `cli.py` |
|  `elevenlabs_synthesizer.py` |
|  `tonedown.py` |
|  `chunker.py` |
|  `neifix.py` |
|  `__init__.py` |
|  `entitizer.py` |
|  `orator.py` |
|  `utils.py` |
|  `elevenlabs_converter.py` |
|  `__main__.py` |

</details>

---

Let me also check the test directory to understand the current test coverage:

---

<details>
            <summary>Listed directory tests  **4** results</summary>
        
| Name |
|-------|
|  `__pycache__` |
|  `test_package.py` |
|  `test_entitizer.py` |
|  `.DS_Store` |

</details>

---

Next, let me check the pyproject.toml to understand the project configuration:

---

Read file: pyproject.toml

---

Let's check the README.md file to understand the project better:

---

Read file: README.md

---

Based on my review, I'll update the TODO.md file to reflect the current state of the project and then implement one or more of the pending tasks. The key areas to focus on from the linting output include:

1. Update pyproject.toml per-file-ignores section
2. Address boolean parameter warnings
3. Add timezone to datetime.now() calls

Let's start by updating the TODO.md file:

---

```diff
  The new code is in the `src/` folder.
  
- ## 1. Implement Core Processing Modules
- 
- ### 1.1. [x] 1.1. Implement `chunker.py` Module
- 
- Your reference is: `legacy_src/malmo_chunker.py`
- 
- ### 1.2. [x] Implement `entitizer.py` Module
- 
- Your reference is: `legacy_src/malmo_entitizer.py`
- 
- 
- ### 1.3. [x] Implement `orator.py` Module
- 
- Your reference is: `legacy_src/malmo_orator.py`
- 
- ### 1.4. [x] Implement `tonedown.py` Module
- 
- Your reference is: `legacy_src/malmo_tonedown.py`
+ ## 1. Core Processing Modules [COMPLETED]
+ 
+ - [x] Implement `chunker.py` Module (from `legacy_src/malmo_chunker.py`)
+ - [x] Implement `entitizer.py` Module (from `legacy_src/malmo_entitizer.py`)
+ - [x] Implement `orator.py` Module (from `legacy_src/malmo_orator.py`)
+ - [x] Implement `tonedown.py` Module (from `legacy_src/malmo_tonedown.py`)
+ - [x] Implement utilities and helper modules
+ - [x] Implement CLI interface
  
- ## 2. Add Testing and Documentation
+ ## 2. Testing and Documentation [PRIORITY: HIGH]
  
  ### 2.1. Implement Unit Tests
  
  - [ ] Create test fixtures
-   - Add sample XML files for testing
-   - Create mock LLM responses
-   - Set up test environment variables
+   - [ ] Add sample XML files for testing
+   - [ ] Create mock LLM responses
+   - [ ] Set up test environment variables
  
  - [x] Add tests for `entitizer.py`
-   - [x] Test NEI identification and tagging (test_entitizer.py has functions)
+   - [x] Test NEI identification and tagging
    - [x] Test dictionary building and updates
    - [x] Test XML merging
  
  - [ ] Add tests for `chunker.py`
-   - Test paragraph splitting and classification
-   - Test semantic analysis
-   - Test chunk creation with various inputs
+   - [ ] Test paragraph splitting and classification
+   - [ ] Test semantic analysis
+   - [ ] Test chunk creation with various inputs
  
  - [ ] Add tests for `orator.py`
-   - Test each processing step individually
-   - Test full pipeline with various inputs
-   - Test error handling and recovery
+   - [ ] Test each processing step individually
+   - [ ] Test full pipeline with various inputs
+   - [ ] Test error handling and recovery
  
  - [ ] Add tests for `tonedown.py`
-   - Test NEI dictionary building
-   - Test language detection
-   - Test pronunciation cue review
-   - Test emphasis reduction
+   - [ ] Test NEI dictionary building
+   - [ ] Test language detection
+   - [ ] Test pronunciation cue review
+   - [ ] Test emphasis reduction
+ 
+ - [ ] Add tests for `elevenlabs_synthesizer.py` and `elevenlabs_converter.py`
+   - [ ] Test text conversion for TTS
+   - [ ] Test API integration (with mocks)
  
  - [ ] Add tests for integration between modules
-   - Test passing results between pipeline stages
-   - Test full pipeline execution
-   - Test error handling between modules
+   - [ ] Test passing results between pipeline stages
+   - [ ] Test full pipeline execution
+   - [ ] Test error handling between modules
  
  ### 2.2. Improve Documentation
  
  - [ ] Update README.md
-   - Add comprehensive installation instructions
-   - Add detailed usage examples for CLI
-   - Add detailed examples for programmatic usage
-   - Add development setup instructions
+   - [x] Add basic installation instructions
+   - [x] Add usage examples for CLI
+   - [x] Add basic programmatic usage examples
+   - [ ] Add more detailed configuration options
+   - [ ] Add troubleshooting section
  
  - [ ] Add docstrings to all public functions
-   - Use Google-style docstrings
-   - Include parameter descriptions
-   - Document return values
-   - Add examples where appropriate
+   - [ ] Use Google-style docstrings
+   - [ ] Include parameter descriptions
+   - [ ] Document return values
+   - [ ] Add examples where appropriate
  
  - [ ] Document CLI commands
-   - Create comprehensive help text
-   - Add examples for each command
-   - Document all options and parameters
+   - [ ] Create comprehensive help text
+   - [ ] Add examples for each command
+   - [ ] Document all options and parameters
  
  ### 2.3. Final Integration Tasks
  
  - [ ] Add comprehensive error handling
-   - Implement proper exception handling throughout
-   - Add meaningful error messages
-   - Add recovery strategies for common failures
+   - [ ] Implement proper exception handling throughout
+   - [ ] Add meaningful error messages
+   - [ ] Add recovery strategies for common failures
  
  - [ ] Add logging enhancements
-   - Improve log messages for clarity
-   - Add log levels for different verbosity needs
-   - Add progress indicators for long-running operations
+   - [ ] Improve log messages for clarity
+   - [ ] Add log levels for different verbosity needs
+   - [ ] Add progress indicators for long-running operations
  
  - [ ] Create example workflows
-   - Add example scripts for common tasks
-   - Document typical processing workflows
-   - Include sample inputs and expected outputs
+   - [ ] Add example scripts for common tasks
+   - [ ] Document typical processing workflows
+   - [ ] Include sample inputs and expected outputs
  
- ## 3. Code Quality and Maintenance 
+ ## 3. Code Quality and Maintenance [PRIORITY: MEDIUM]
  
  ### 3.1. Fix Linting Issues
  
  - [ ] Update pyproject.toml configuration
-   - Move 'per-file-ignores' to 'lint.per-file-ignores' section
-   - Update target Python version to 3.12
-   - Add specific rules to address common issues
+   - [ ] Move 'per-file-ignores' to 'lint.per-file-ignores' section
+   - [ ] Update target Python version to 3.12
+   - [ ] Add specific rules to address common issues
  
  - [ ] Address FBT001/FBT002 warnings
-   - Replace boolean positional arguments with keyword-only arguments
-   - Update function signatures and calls throughout the codebase
-   - Add type hints for boolean parameters
+   - [ ] Replace boolean positional arguments with keyword-only arguments
+   - [ ] Update function signatures and calls throughout the codebase
+   - [ ] Add type hints for boolean parameters
  
  - [ ] Fix PLR0913 warnings (too many arguments)
-   - Refactor functions with too many parameters
-   - Create parameter classes/dataclasses where appropriate
-   - Use keyword arguments consistently
+   - [ ] Refactor functions with too many parameters
+   - [ ] Create parameter classes/dataclasses where appropriate
+   - [ ] Use keyword arguments consistently
  
  - [ ] Add timezone to datetime calls
-   - Replace datetime.now() with datetime.now(timezone.utc)
-   - Update date/time handling for consistency
-   - Add proper timezone awareness
+   - [ ] Replace datetime.now() with datetime.now(timezone.utc)
+   - [ ] Update date/time handling for consistency
+   - [ ] Add proper timezone awareness
  
  - [ ] Refactor complex functions
-   - Break down functions with high complexity (C901)
-   - Reduce branch complexity (PLR0912)
-   - Reduce statement count (PLR0915)
+   - [ ] Break down functions with high complexity (C901)
+   - [ ] Reduce branch complexity (PLR0912)
+   - [ ] Reduce statement count (PLR0915)
  
  - [ ] Address security issues
-   - Fix lxml security warnings (S320)
-   - Implement proper input sanitization
-   - Address subprocess security concerns (S603)
+   - [ ] Fix lxml security warnings (S320)
+   - [ ] Implement proper input sanitization
+   - [ ] Address subprocess security concerns (S603)
  
  ### 3.2. Code Structure Improvements
  
  - [ ] Implement consistent error handling
-   - Create custom exception classes
-   - Add exception hierarchy for different error types
-   - Use try/except with specific exceptions
+   - [ ] Create custom exception classes
+   - [ ] Add exception hierarchy for different error types
+   - [ ] Use try/except with specific exceptions
  
  - [ ] Enhance module structure
-   - Organize related functions into logical classes
-   - Improve code reuse across modules
-   - Create clear interfaces between components
+   - [ ] Organize related functions into logical classes
+   - [ ] Improve code reuse across modules
+   - [ ] Create clear interfaces between components
  
  - [ ] Implement configuration management
-   - Create central configuration object
-   - Add validation for configuration parameters
-   - Provide sensible defaults and documentation
+   - [ ] Create central configuration object
+   - [ ] Add validation for configuration parameters
+   - [ ] Provide sensible defaults and documentation
  
  ### 3.3. Testing and CI/CD
  
  - [ ] Increase test coverage
-   - Add tests for all core functionality
-   - Add integration tests for full pipeline
-   - Add tests for edge cases and error handling
+   - [ ] Add tests for all core functionality
+   - [ ] Add integration tests for full pipeline
+   - [ ] Add tests for edge cases and error handling
  
  - [ ] Set up GitHub Actions workflow
-   - Add workflow for running tests
-   - Add workflow for linting and type checking
-   - Add workflow for publishing package
+   - [ ] Add workflow for running tests
+   - [ ] Add workflow for linting and type checking
+   - [ ] Add workflow for publishing package
  
- ## 4. Feature Enhancements
+ ## 4. Feature Enhancements [PRIORITY: LOW]
  
  ### 4.1. Performance Optimizations
  
  - [ ] Improve LLM usage efficiency
-   - Optimize prompts for token efficiency
-   - Implement caching for LLM responses
-   - Add batch processing where possible
+   - [ ] Optimize prompts for token efficiency
+   - [ ] Implement caching for LLM responses
+   - [ ] Add batch processing where possible
  
  - [ ] Implement parallel processing
-   - Process chunks in parallel
-   - Add concurrency controls
-   - Ensure thread safety
+   - [ ] Process chunks in parallel
+   - [ ] Add concurrency controls
+   - [ ] Ensure thread safety
  
  ### 4.2. User Experience Improvements
  
  - [ ] Add progress reporting
-   - Implement CLI progress bars
-   - Add estimated time remaining
-   - Show processing statistics
+   - [ ] Implement CLI progress bars
+   - [ ] Add estimated time remaining
+   - [ ] Show processing statistics
  
  - [ ] Create user-friendly error messages
-   - Add detailed diagnostics
-   - Suggest solutions for common errors
-   - Provide clear guidance for configuration issues
+   - [ ] Add detailed diagnostics
+   - [ ] Suggest solutions for common errors
+   - [ ] Provide clear guidance for configuration issues
  
  ### 4.3. Additional Features
  
  - [ ] Add voice customization options
-   - Support for voice cloning
-   - Implement voice style controls
-   - Add support for additional TTS providers
+   - [ ] Support for voice cloning
+   - [ ] Implement voice style controls
+   - [ ] Add support for additional TTS providers
  
  - [ ] Implement document format conversions
-   - Add support for Markdown
-   - Add support for HTML
-   - Add support for ePub
+   - [ ] Add support for Markdown
+   - [ ] Add support for HTML
+   - [ ] Add support for ePub
  
  - [ ] Create visualization tools
-   - Add speech synthesis preview
-   - Implement processing visualization
-   - Create interactive pipeline control
+   - [ ] Add speech synthesis preview
+   - [ ] Implement processing visualization
+   - [ ] Create interactive pipeline control
  
```

---

Now, let's implement one of the tasks from the TODO list. Let's update the pyproject.toml file to fix the "per-file-ignores" warnings from the linting process:

---



---



---

